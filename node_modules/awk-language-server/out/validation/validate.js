"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validate = void 0;
const utils_1 = require("../utils");
const syntaxError_1 = require("./syntaxError");
const missingNode_1 = require("./missingNode");
const builtinName_1 = require("./builtinName");
const nameCollision_1 = require("./nameCollision");
const includeExists_1 = require("./includeExists");
const nextPlacement_1 = require("./nextPlacement");
const continuePlacement_1 = require("./continuePlacement");
const breakPlacement_1 = require("./breakPlacement");
const validators = [
    syntaxError_1.validateSyntaxError,
    missingNode_1.validateMissingNode,
    builtinName_1.validateBuiltinName,
    nameCollision_1.validateNameCollision,
    includeExists_1.validateIncludeExists,
    nextPlacement_1.validateNextPlacement,
    continuePlacement_1.validateContinuePlacement,
    breakPlacement_1.validateBreakPlacement,
];
function validate(tree, symbols, namespaces, dependencies, uri, docs) {
    const diagnostics = [];
    for (const node of utils_1.nodesGen(tree.rootNode)) {
        for (const v of validators) {
            const result = v({
                node,
                symbols,
                namespaces,
                dependencies,
                uri,
                docs,
            });
            if (result) {
                diagnostics.push(result);
                break;
            }
        }
    }
    return diagnostics;
}
exports.validate = validate;
//# sourceMappingURL=validate.js.map